
{% extends 'baseContainer.html' %}

{% block content %}
    <style>
        .column{
                background: white;
                border-radius: 30px;
                box-shadow: 12px 12px 22px grey;
            }
    </style>
    <div class="alert alert-info" role="alert" style="display: none;" id="sAlert">
        Appointment Added Successfully!
    </div>
    <div class="column no-gutters"><!--col no-glutters--> <!--no-gutters to remove paddings in the row-->
        <center><div  class="col-lg-11 pt-3 px-5"><h1>Take an Appointment</h1></div></center>
        <hr>
        <center><div class="col-lg-11 pt-3 px-5">
            <form method="POST" id="form">
                {% csrf_token %}

                <table align="center" cellspacing="30px">
                    <tr>
                        <th></th>
                        <th>Day:</th>
                        <th>From:</th>
                        <th>To:</th>
                        <th>With Doctor:</th>
                    </tr>
                    <tr>
                        <td><input type="hidden" required="required" name="patient" value="{{ id }}"></td>
                        <td><input type="date" required="required"  name="day" value="{{ l.day }}"></td>
                        <td><input type="time" required="required"  name="from_hour" value="{{ l.from_hour|time:'h:i' }}"></td>
                        <td><input type="time" required="required"  name="to_hour" value="{{ l.to_hour|time:'h:i' }}"></td>
                        <td>
                            <select class="form-select" aria-label="Default select example" style="border: 1px solid white" required="required" name="doctor"><br>
                                      <option selected>Select a doctor</option>
                                  {% for d in doctorList %}
                                      <option value="{{d.id}}">{{d.firstName|title|add:" "|add:d.lastName|title}}</option>
                                  {% endfor %}
                            </select>
                        </td>
                    </tr>
                </table>



            <input type="submit" name="submit" value="Add" class="btn btn-info mb-3" id="addButton">
            <br>
                <p>return to <a style="color:#ff0000" href="{% url 'p_home' id %}"><b> my dashboard</b></a></p>

            </form>
        </div></center>
    </div>

    <script>
         $(document).ready(function() {
            $('#form').submit(function(e){
                     e.preventDefault();
                     $('#sAlert').show();
            });
    });
    </script>
{% endblock %}
